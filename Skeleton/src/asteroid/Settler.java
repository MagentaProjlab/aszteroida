package asteroid;

import java.util.ArrayList;
import java.util.Scanner;


//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Settler.java
//  @ Date : 2021.03.18.
//  @ Author : 
//
//




public class Settler extends SentientBeing {
	private ArrayList<RawMaterial> carriedmaterials;
	private ArrayList<BillOfMaterials> bills;
	private ArrayList<TeleportGate> carriedteleports;
	public Settler() 
	{
		
		carriedmaterials = new ArrayList<RawMaterial>();
		carriedteleports = new ArrayList<TeleportGate>();
		bills = new ArrayList<BillOfMaterials>();
		bills.add(new BillOfMaterials());
		bills.add(new BillOfMaterials());
		bills.add(new BillOfMaterials());
	}
	public void addteleport(TeleportGate tg) {
		this.carriedteleports.add(tg);
	}
	public void Drill() 
	{
		Logger.UserQuestion("Még tudja fúrni a telepes?");
		Scanner scanner = new Scanner(System.in);
		String input = scanner.nextLine();
		if(input.equals("igen")) {//TODO tudni kell, hogy m�g furhatja-e
			location.IncreaseHoleDepth();//TODO 
		}
		scanner.close();
	}
	
	public void Mine() 
	{
		Logger.UserQuestion("Fér-e a telepes zsebébe még anyag?");
		Scanner scanner = new Scanner(System.in);
		String input = scanner.nextLine();
		if(input.equals("igen")) {
			if(!location.IsEmpty()) {
				RawMaterial rm=location.GetMaterial();
				AddCarriedMaterial(rm);
				rm.SetAsteroid(null);
				location.DropMaterial();
			}
		}
		scanner.close();
	}
	
	public void Die() 
	{
		System.out.println("Die()");
		for(RawMaterial item:carriedmaterials) {
			item.Perish();
		}
		for(TeleportGate item:carriedteleports) {
			item.Explode();
		}
	}
	
	public void AddCarriedMaterial(RawMaterial material) {
		System.out.println("AddCarriedMaterial()");
		carriedmaterials.add(material);
	}
	
	public void Explode() 
	{
		System.out.println("Explode()");
	}
	
	public void BuildRobot() 
	{
		System.out.println("BuildRobot()");

		//TODO robo bill hi�nya van itten, mik�pp k�rjem el a bills-b�l pont a dr�g�t?
		//�n �gy vettem, hogy pont az egyes(�s nem els�) lesz az.
		//TODO a BOM-nak arraylistet k�ne fogadnia
		Boolean feltetel1 = bills.get(1).CheckInventory(null);
		if(feltetel1) 
		{
			location.RegisterBeing(new Robot());
			bills.get(1).DeleteFromInventory(null);
		}

	}
	
	public void BuildTeleportGatePair() 
	{
		System.out.println("BuildTeleportGatePair()");

		//TODO telegate bill hi�nya van itten, mik�pp k�rjem el a bills-b�l pont a dr�g�t?
		//�n �gy vettem, hogy pont az kettes(�s nem m�sodik) lesz az.
		//TODO a BOM-nak arraylistet k�ne fogadnia
		
		Boolean feltetel1 = bills.get(2).CheckInventory(null);
		if(feltetel1) 
		{
			TeleportGate t1=new TeleportGate();
			TeleportGate t2=new TeleportGate();
			
			bills.get(2).DeleteFromInventory(null);
			
			t1.SetSibling(t2);
			t2.SetSibling(t1);
		}
		
	}
	
	public void FillAsteroid(RawMaterial material) 
	{
		System.out.println("FillAsteroid()");

		Logger.UserQuestion("Tud-e a telepes bepakolni?");
		Scanner scanner = new Scanner(System.in);
		String input = scanner.nextLine();
		if(input.equals("igen")) {
			location.SetMaterial(material, this);
		}
		scanner.close();
	}
	
	
	public void Move(Place place) 
	{
		location.DropBeing(this);
		place.RegisterBeing(this);
	}
	
	public void PutTeleportGateOnAsteroid() 
	{
		System.out.println("PutTeleportGateOnAsteroid()");

		System.out.println("Van-e a telepes zsebében teleport?(igen/nem)");
		Scanner scanner = new Scanner(System.in);
		String input = scanner.nextLine();
		if(input.equals("igen")) {
			TeleportGate t=new TeleportGate();
			t.GetAsteroid();
			System.out.println("A telepes ugyanazon az aszteroidán van, mint a teleport tesója?(igen/nem)");
			scanner = new Scanner(System.in);
			String input2 = scanner.nextLine();
			if(input2.equals("nem")) {
				Asteroid TestLocation=new Asteroid();
				TestLocation.AddNeighbor(t);
				t.SetAsteroid(TestLocation);
				t.DropOwner();
				DropCarriedTeleport(t);
			}
		}
		
		scanner.close();
	}
	
	public void Step() 
	{
		System.out.println("Step()");

		//System.out.println("Mit csin�ljona a telepes? 1=mozogo egy aszteroid�ra,2=�s, 3=b�ny�sz,4=anyagot rak vissza,5=robotot �p�t, 6=teleportot �p�t, 7=teleportot helyez le");
		
	}
	
	public void DropCarriedMaterial(RawMaterial material) {
		System.out.println("DropCarriedMaterial()");

		//carriedmaterials.remove(material);
	}
	
	public void DropCarriedTeleport(TeleportGate teleport) 
	{
		System.out.println("DropCarriedTeleport()");

		carriedteleports.remove(teleport);
	}
	
}
